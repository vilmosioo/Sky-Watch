language: node_js
sudo: false
node_js:
- '0.10'
before_script:
- npm install -g grunt-cli bower
- gem install sass --version 3.2.13
- gem install compass
- npm cache clear && bower cache clean
- npm install && bower install
script:
- npm run build
branches:
  only:
  - master
before_deploy:
- npm run before_deploy
deploy:
- provider: openshift
  user: cool.villi@gmail.com
  password:
    secure: SI0L/pHMO4fPt294yWqINSOTFtFoG6EqF2Ybcxg7691AIYHxm86hv8VjCgRmIjLMuY6E+zdZibLBzumVm5N6ds+atgxOWDfNH2SJiclox39WD3VPMog5TmMEnWVoCalpUm17ptOQMKed7y2dB+ddXqf6FuXZL4NEih5ONnymdRM=
  app: skywatch
  domain: vilmosioo
  on:
    repo: vilmosioo/Sky-Watch
    branch: master
- provider: releases
  api-key: $GITHUB_TOKEN
  file: sky-watch.zip
  skip_cleanup: true
  on:
    tags: true
env:
  global:
  - secure: FeVKCcZdUH1H70JOZxOqBJMTU1HXUPJIIb6ffXTFpfG3Q/NrFEVc0+FBgAbHGwkVd/frRCXwqVnbn74hnNpijDj7VMxoQmtMfzY9f6RW+ifos6JDv/lUiK2w4uejkFLE5Mh2aZMGOxJ0B5lYHyy22CWwmT5tZOfOhwKPZ/V3aPY=
  - secure: OSQKi82+Rk/clyNZPX650EpsZsf5GIEZ3VaRVeIJ4RPwRjn1g2vY2Q+UzkaArpIeg4dLStjkqcKzG2kkYIAa8VJDr0bTFr3tqbi/pIKsR1HLD+Agfb9YQu2x+q7L7D1qHPouNrgoqIEzrKOwe6VWaWqT6q7zN/iRF4D4EZPK/CM=
  - secure: cobJKuGUpy38/NvJC5u7+4F55+uyfZYmMRzE2bittXfET/S2a7if2F4P24DslS9wOOWc+eTwo/GpKG1BJmjEoDoMBjtExWWp5UlPZlC0QD4Hj/XTp6yVL+rvJ/N70wwztF2kFYLuI2AjnPqR9J+mNCHLVxyWGgZHTYnKJB+lIp8=
