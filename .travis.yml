language: node_js
node_js:
- '0.10'
before_script:
- npm install -g grunt-cli bower
- gem install sass --version 3.2.13
- gem install compass
- npm cache clear && bower cache clean
- npm install && bower install
script:
- npm run build
env:
  global:
  - secure: qDJ5T1TO/O7Bx16TQ4487R7wnyH1WD71UrcFHPH4h2q5XjAk40FzzOmnpfVDZOTWExZWTLHcIC4dW5B/YzTlhx4pCKu1JdjdMp7YbqMMdrmDai4bqyroyuw3GKDzuSaQ4RK8UB4JeJCYT26sx2trdy4GDgDvIKs9tARR1IUEfjc=
  - secure: zttbnA52Svkf9bNCNjsLwJxAtWqt1vZLUhbxNEys9e9tj6krd4wJczQw7GJtSpG31eT1YRknggwT0fnsdy7Zr/eE3dlkJtGnlN+CBiqxeT66G4pDdFyNgKQBbhRmNco1Cs6cn6vW4PkHmxCygkP97PRDD+ZsfgMevli3BR6aEqk=
  - secure: VEjXKFxgW/5vbdKdROtVdlyWMxslBQfv6GbTOx63uuFF3Xyrx6ZLjW+jx+XzmSYYiFoczCDHy7UD5uyBXZ3Q5R2esppPX9BElniiofwp48CNGmNbFdTjOjRuUyKR9q8fs6P/VXAlmRIzTCbGqAkthqW/X7nMGzmzhSpIIcMjicQ=
branches:
  only:
  - master
before_deploy:
- npm run before_deploy
deploy:
  provider: openshift
  user: cool.villi@gmail.com
  password:
    secure: SI0L/pHMO4fPt294yWqINSOTFtFoG6EqF2Ybcxg7691AIYHxm86hv8VjCgRmIjLMuY6E+zdZibLBzumVm5N6ds+atgxOWDfNH2SJiclox39WD3VPMog5TmMEnWVoCalpUm17ptOQMKed7y2dB+ddXqf6FuXZL4NEih5ONnymdRM=
  app: skywatch
  domain: vilmosioo
  on:
    repo: vilmosioo/Sky-Watch
    branch: master
